{
    "name": "servicenow",
    "description": "Access ServiceNow CMDB, incidents, changes, and other ITSM data",
    "binary": "servicenow-mcp",
    "transport": "stdio",
    "env_required": [
        "SERVICENOW_INSTANCE",
        "SERVICENOW_USERNAME",
        "SERVICENOW_PASSWORD"
    ],
    "tools": [
        {
            "name": "snow_cmdb_query",
            "description": "Query CMDB configuration items with filters",
            "parameters": {
                "type": "object",
                "properties": {
                    "class": {
                        "type": "string",
                        "description": "CI class to query (e.g., 'cmdb_ci_server', 'cmdb_ci_app_server', 'cmdb_ci_database')"
                    },
                    "query": {
                        "type": "string",
                        "description": "ServiceNow encoded query string (e.g., 'name=myserver^operational_status=1')"
                    },
                    "fields": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "description": "Fields to return (default: name, sys_id, operational_status, sys_class_name)"
                    },
                    "limit": {
                        "type": "integer",
                        "default": 100,
                        "description": "Maximum records to return"
                    }
                },
                "required": [
                    "class"
                ]
            }
        },
        {
            "name": "snow_cmdb_get",
            "description": "Get a specific CMDB configuration item by sys_id or name",
            "parameters": {
                "type": "object",
                "properties": {
                    "identifier": {
                        "type": "string",
                        "description": "sys_id or name of the CI"
                    },
                    "class": {
                        "type": "string",
                        "description": "CI class (optional, searches all classes if not specified)"
                    },
                    "include_relations": {
                        "type": "boolean",
                        "default": false,
                        "description": "Include upstream/downstream CI relationships"
                    }
                },
                "required": [
                    "identifier"
                ]
            }
        },
        {
            "name": "snow_incident_query",
            "description": "Query incidents with filters",
            "parameters": {
                "type": "object",
                "properties": {
                    "query": {
                        "type": "string",
                        "description": "Encoded query (e.g., 'priority=1^state!=7' for P1 non-closed)"
                    },
                    "assignment_group": {
                        "type": "string",
                        "description": "Filter by assignment group name"
                    },
                    "assigned_to": {
                        "type": "string",
                        "description": "Filter by assigned user"
                    },
                    "state": {
                        "type": "string",
                        "enum": [
                            "new",
                            "in_progress",
                            "on_hold",
                            "resolved",
                            "closed",
                            "canceled"
                        ],
                        "description": "Filter by incident state"
                    },
                    "priority": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 5,
                        "description": "Filter by priority (1=Critical, 5=Planning)"
                    },
                    "limit": {
                        "type": "integer",
                        "default": 50
                    }
                }
            }
        },
        {
            "name": "snow_incident_get",
            "description": "Get incident details by number or sys_id",
            "parameters": {
                "type": "object",
                "properties": {
                    "identifier": {
                        "type": "string",
                        "description": "Incident number (INC0012345) or sys_id"
                    },
                    "include_worknotes": {
                        "type": "boolean",
                        "default": false,
                        "description": "Include work notes and comments"
                    },
                    "include_related": {
                        "type": "boolean",
                        "default": false,
                        "description": "Include related CIs, changes, and problems"
                    }
                },
                "required": [
                    "identifier"
                ]
            }
        },
        {
            "name": "snow_change_query",
            "description": "Query change requests with filters",
            "parameters": {
                "type": "object",
                "properties": {
                    "query": {
                        "type": "string",
                        "description": "Encoded query string"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "standard",
                            "normal",
                            "emergency"
                        ],
                        "description": "Change type filter"
                    },
                    "state": {
                        "type": "string",
                        "enum": [
                            "new",
                            "assess",
                            "authorize",
                            "scheduled",
                            "implement",
                            "review",
                            "closed",
                            "canceled"
                        ],
                        "description": "Change state filter"
                    },
                    "assignment_group": {
                        "type": "string",
                        "description": "Filter by assignment group"
                    },
                    "scheduled_start_after": {
                        "type": "string",
                        "description": "ISO date - changes scheduled after this date"
                    },
                    "scheduled_start_before": {
                        "type": "string",
                        "description": "ISO date - changes scheduled before this date"
                    },
                    "limit": {
                        "type": "integer",
                        "default": 50
                    }
                }
            }
        },
        {
            "name": "snow_change_get",
            "description": "Get change request details by number or sys_id",
            "parameters": {
                "type": "object",
                "properties": {
                    "identifier": {
                        "type": "string",
                        "description": "Change number (CHG0012345) or sys_id"
                    },
                    "include_tasks": {
                        "type": "boolean",
                        "default": false,
                        "description": "Include change tasks"
                    },
                    "include_approvals": {
                        "type": "boolean",
                        "default": false,
                        "description": "Include approval history"
                    },
                    "include_affected_cis": {
                        "type": "boolean",
                        "default": true,
                        "description": "Include affected configuration items"
                    }
                },
                "required": [
                    "identifier"
                ]
            }
        },
        {
            "name": "snow_problem_query",
            "description": "Query problems with filters",
            "parameters": {
                "type": "object",
                "properties": {
                    "query": {
                        "type": "string"
                    },
                    "state": {
                        "type": "string",
                        "enum": [
                            "new",
                            "assess",
                            "root_cause_analysis",
                            "fix_in_progress",
                            "resolved",
                            "closed"
                        ]
                    },
                    "priority": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 5
                    },
                    "limit": {
                        "type": "integer",
                        "default": 50
                    }
                }
            }
        },
        {
            "name": "snow_user_lookup",
            "description": "Look up ServiceNow user by username, email, or sys_id",
            "parameters": {
                "type": "object",
                "properties": {
                    "identifier": {
                        "type": "string",
                        "description": "Username, email, or sys_id"
                    },
                    "include_groups": {
                        "type": "boolean",
                        "default": false,
                        "description": "Include group memberships"
                    }
                },
                "required": [
                    "identifier"
                ]
            }
        },
        {
            "name": "snow_group_members",
            "description": "List members of an assignment group",
            "parameters": {
                "type": "object",
                "properties": {
                    "group": {
                        "type": "string",
                        "description": "Group name or sys_id"
                    },
                    "active_only": {
                        "type": "boolean",
                        "default": true
                    }
                },
                "required": [
                    "group"
                ]
            }
        },
        {
            "name": "snow_table_query",
            "description": "Generic table query for any ServiceNow table",
            "parameters": {
                "type": "object",
                "properties": {
                    "table": {
                        "type": "string",
                        "description": "Table name (e.g., 'sys_user', 'kb_knowledge', 'sc_req_item')"
                    },
                    "query": {
                        "type": "string",
                        "description": "Encoded query string"
                    },
                    "fields": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "description": "Fields to return"
                    },
                    "limit": {
                        "type": "integer",
                        "default": 100
                    }
                },
                "required": [
                    "table"
                ]
            }
        }
    ],
    "resources": [
        {
            "name": "instance_info",
            "description": "Get ServiceNow instance information and version",
            "uri": "servicenow://instance"
        },
        {
            "name": "cmdb_classes",
            "description": "List available CMDB CI classes",
            "uri": "servicenow://cmdb/classes"
        },
        {
            "name": "assignment_groups",
            "description": "List assignment groups",
            "uri": "servicenow://groups"
        }
    ]
}
